{% extends "base.html" %}

{% block title %}Dashboard{% endblock %}

{% block content %}
<div class="card">
    <h2>System Status</h2>
    <div id="status-panel">
        <p>AI Client: <span id="ai-status">Checking...</span></p>
        <p>Database: <span id="db-status">Checking...</span></p>
        <p>MCP Servers: <span id="mcp-status">Checking...</span></p>
    </div>
</div>

<div class="card">
    <h2>Recent Activity</h2>
    <div id="activity-log">
        <p>No recent activity</p>
    </div>
</div>

<script>
    // Simple status check
    fetch('/api/status')
        .then(response => response.json())
        .then(data => {
            document.getElementById('ai-status').textContent = data.ai_client ? 'Connected' : 'Disconnected';
            document.getElementById('db-status').textContent = data.database ? 'Connected' : 'Disconnected';
            document.getElementById('mcp-status').textContent = data.mcp_servers ? 'Running' : 'Stopped';
        })
        .catch(err => {
            console.error('Error checking status:', err);
        });
</script>
{% endblock %}